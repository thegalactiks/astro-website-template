---
import { collectionName, type Content } from "@withmoons/explorer";

import ArticleList from "@components/ArticlesList.astro";
import ArticleLayout from "@layouts/ArticleLayout.astro";
import SimplifiedPageLayout from "@layouts/SimplifiedPageLayout.astro";

export { getStaticPaths } from "@withmoons/astro-integration";

type Props = { page: Content };

const { page } = Astro.props;
const { Content } = page.body.render();

const Layout =
  page.collection === collectionName.article ? ArticleLayout : SimplifiedPageLayout;
---

<Layout content={page}>
  {page.listingPage && <ArticleList identifier={page.identifier} />}

  {Content && <Content />}
</Layout>
