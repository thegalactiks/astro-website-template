---
import type { Content } from "@galactiks/explorer";

import ArticleList from "@components/ArticlesList.astro";
import ArticleLayout from "@layouts/ArticleLayout.astro";
import SimplifiedPageLayout from "@layouts/SimplifiedPageLayout.astro";

export { getStaticPaths } from "@galactiks/astro-integration";

type Props = { page: Content };

const { page } = Astro.props;
const { Content } = page.body.render();

const Layout = page.type === "Article" ? ArticleLayout : SimplifiedPageLayout;
---

<Layout content={page}>
  {page.listingPage && <ArticleList identifier={page.identifier} inLanguage={page.inLanguage} type={page.type} />}

  {Content && <Content />}
</Layout>
